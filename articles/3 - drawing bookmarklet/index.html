<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Turn your browser into a drawpad - Daniel Fernandez
    </title>
    <link rel="alternate" href="http://dfernandez.me/feed.xml" type="application/rss+xml" title="My personal blog">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Fredericka+the+Great">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <header>
      <div class="inner">
        <h1><a href="http://dfernandez.me">Daniel Fernandez</a></h1>
        <div class="icons">         <a href="/suscribe.html" target="_blank"><img src="/images/rss.png" height="72px" width="72px"></a><a href="https://twitter.com/danielfrndz" target="_blank"><img src="/images/twitter.png" height="72px" width="72px"></a><a href="http://ar.linkedin.com/in/danielmartinfernandez" target="_blank"><img src="/images/linkedin.png" height="72px" width="72px"></a></div>
        <div class="options"><a href="/suscribe.html" target="_blank">Suscribe</a><a href="https://github.com/danielfrndz">Github          </a><a href="/about.html">About          </a></div>
      </div>
    </header>
    <div id="content">
      <article class="post">
        <header>
          <h2 class="title"><a href="/articles/3%20-%20drawing%20bookmarklet/">Turn your browser into a drawpad</a></h2><span class="date">April 15, 2013</span>
        </header>
        <section class="content"><p>Not to long ago I came across with an <a target="_blank" href="https://news.ycombinator.com/item?id=5135194">interesting post</a> on Hacker News that proposed to turn your browser into a notepad. The idea was simple; it used the data URI format to include inline HTML and JS. Since that day, I never stop using it. 

</p>
<p>I actually picked up an <a target="_blank" href="https://gist.github.com/danielfrndz/5383435">improved version</a> where, when you press CTRL + S keys, it adds the written data to the URL saving it in the browser history for later access.

</p>
<p><a class="button_red" target="_blank" href='data:text/html,<html><script>window.onload=function(){var a=document.body;a.addEventListener("keydown",    function(b){if(b.ctrlKey&&83===b.which){document.location = "data:text/html," + document.childNodes[0].outerHTML;b.preventDefault();}},!1);document.title= document.body.innerText.replace(/\n[\s\S]+$/," - ")+new Date().toString();};</script><body contenteditable></body></html>
'>Click here to test notepad</a>

</p>
<p>Before I realized, each of my opened browser windows had a first tab that was using it either for temporal bookmarks or notes. 

</p>
<p>I just love it.

</p>
<p>One day, I was trying to quickly draw something and I asked myself if I could use a similar approach. It turned out that it was possible. You can even save the drawing to the browser history with CTRL + S.

</p>
<p><a class="button_red" target="_blank" href='data:text/html,<html><style>* { margin:0; padding:0; }html, body {cursor:pointer;width:100%; height:100%; }canvas { display:block; }</style><script>window.onload = function() {var myCanvas = document.getElementById("myCanvas");var data = document.getElementById("data");var curColor = "#000";if(myCanvas){var isDown = false;var ctx = myCanvas.getContext("2d");var canvasX, canvasY;var img = new Image;img.onload = function(){ctx.drawImage(img,0,0);};img.src = data.value;myCanvas.addEventListener("mousedown", function(e){isDown = true;ctx.beginPath();canvasX = e.pageX - myCanvas.offsetLeft;canvasY = e.pageY - myCanvas.offsetTop;ctx.moveTo(canvasX, canvasY);}, false);myCanvas.addEventListener("mousemove", function(e){if(isDown != false) {canvasX = e.pageX - myCanvas.offsetLeft;canvasY = e.pageY - myCanvas.offsetTop;ctx.lineTo(canvasX, canvasY);ctx.strokeStyle = curColor;ctx.stroke();}}, false);myCanvas.addEventListener("mouseup", function(e){isDown = false;ctx.closePath();data.value = myCanvas.toDataURL();}, false);}window.addEventListener("resize", resizeCanvas, false);function resizeCanvas() {myCanvas.width = window.innerWidth;myCanvas.height = window.innerHeight;}resizeCanvas();var a=document.body;a.addEventListener("keydown", function(b){if(b.ctrlKey&&83===b.which){document.location = "data:text/html," + document.childNodes[0].outerHTML;b.preventDefault();}}, false);document.title= document.body.innerText.replace(/\n[\s\S]+$/," - ")+new Date().toString();};</script><body><input type="hidden" id="data"/><canvas id="myCanvas">Sorry, your browser does not support canvas technology.</canvas></body></html>'>Click here to test drawpad</a>

</p>
<p>For those who want to check or improve the code, here it is nicely indented:

</p>
<script src="https://gist.github.com/danielfrndz/be5f4d048c24b08ec1dc.js"></script>

<p>Although I do not use it as much as the notes, some days I find it very handy.

</p>
<p>I hope you too!

</p>
</section>
      </article>
    </div>
    <footer>
      <div class="inner">
        <p>&copy; 2013 Daniel Fernandez</p>
      </div>
    </footer>
    <script>
      var _gaq=[['_setAccount','UA-23149481-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
  </body>
</html>